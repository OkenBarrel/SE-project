{"ast":null,"code":"import React,{Component,useState,useEffect}from\"react\";import{Button,Grid,Card,Box,CardContent,CardMedia}from'@mui/material';import Alert from'@mui/material/Alert';import StarIcon from'@mui/icons-material/Star';import IconButton from'@mui/material/IconButton';import Tooltip from'@mui/material/Tooltip';import{useParams,useNavigate}from'react-router-dom';// import CreateBookPage from \"./CreateBookPage\";\nimport{BrowserRouter as Router,Routes,Route,Link,Redirect}from\"react-router-dom\";import CommentComponet from\"./CommentComponent\";import ScoreComponent from\"./ScoreComponet\";import{getCookie}from'./CSRFToken';import{getCsrfToken}from'./CSRFToken';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Book=_ref=>{let{relation}=_ref;const{isbn}=useParams();const[title,setTitle]=useState(\"\");const[author,setAuthor]=useState(\"\");const[cover,setCover]=useState(\"\");const[douban_url,setDouban]=useState(\"\");const[publisher,setPublisher]=useState(\"\");const[pubdate,setPubdate]=useState(\"\");const[buy_kong,setKong]=useState(\"\");const[buy_dang,setDang]=useState(\"\");const[buy_bookchina,setBookchina]=useState(\"\");const[buy_jie,setJie]=useState(\"\");const[mark,setMark]=useState(false);//mark action\nconst[markid,setMarkId]=useState('');const[userid,setUserId]=useState('');const navigate=useNavigate();const csrftoken=getCsrfToken();useEffect(()=>{console.log(isbn);getBookDetails();},[]);async function getBookDetails(){let res=await fetch(\"/api/get-book\"+\"?isbn=\"+isbn);if(!res.ok){navigate(\"/\");return;}let data=await res.json();setTitle(data.title);setAuthor(data.author);setCover(data.cover);setDouban(data.douban_url);setPubdate(data.pubdate);setPublisher(data.publisher);setKong(\"https://search.kongfz.com/product/?keyword=\"+isbn+\"&dataType=0\");setDang(\"http://search.dangdang.com/?key=\"+isbn+\"&act=input\");setBookchina(\"https://www.bookschina.com/book_find2/?stp=\"+isbn+\"&sCate=0\");setJie(\"https://www.jiushujie.com/sell?q=\"+isbn);// .then((response)=>{\n//     return response.json();\n// })\n// .then((data)=>{\n//     setTitle(data.title)\n// })\n}/*useEffect(()=>{\n        console.log(relation);\n       \n    },[relation])*/const handleRequest=async(url,method,body)=>{let requestOption={method:method,headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrftoken},body:JSON.stringify(body)};let response=await fetch(url,requestOption);if(!response.ok){console.log(\"\".concat(method,\" request failed\"));return false;}return true;};async function handleMark(){console.log(\"mark\"+isbn);/*const body = { \n            usebook: relation?.id\n        };*/setError('');setSuccess('');if(mark){// 取消收藏\n// const success = await handleRequest(\"/api/scoreUser\", \"DELETE\", body);\nsetMark(false);}else{// 进行收藏\nif(getCookie('username')==null){setError('Please Login First');return;}setMark(true);setUserId(getCookie('user_id'));try{const requestOption={method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrftoken},body:JSON.stringify({mark:{markid:markid,useris:userid,bookisbn:isbn}})};let response=await fetch(\"/api/mark-book\",requestOption);let data=await response.json();if(!response.ok){setRelationError(data.msg);return;}}catch(error){setError('An error occurred. Please try again.');}}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{display:'flex',alignItems:'center',flexDirection:'row'},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:\"/\",component:Link,children:\"\\u8FD4\\u56DE\\u4E3B\\u9875\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"This is Book \",title]})})]}),/*#__PURE__*/_jsxs(Card,{variant:\"outlined\",align:\"center\",jutifyContent:\"center\",sx:{display:\"flex\",maxWidth:1400,maxHeight:400},children:[/*#__PURE__*/_jsx(Box,{sx:{display:'flex',flexDirection:'column'},children:/*#__PURE__*/_jsx(CardContent,{sx:{flex:'1 0 auto'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,item:true,xs:12,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',flexDirection:'row'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u6807\\u9898:\"}),/*#__PURE__*/_jsx(\"p\",{children:title})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',flexDirection:'row'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u4F5C\\u8005:\"}),/*#__PURE__*/_jsx(\"p\",{children:author})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',flexDirection:'row'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u51FA\\u7248\\u793E:\"}),/*#__PURE__*/_jsx(\"p\",{children:publisher})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',flexDirection:'row'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u51FA\\u7248\\u65E5\\u671F:\"}),/*#__PURE__*/_jsx(\"p\",{children:pubdate})]})}),/*#__PURE__*/_jsxs(Grid,{item:true,spacing:2,xs:12,align:\"center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:\"./update\",component:Link,children:\"\\u4FEE\\u6539\\u4E66\\u7C4D\\u4FE1\\u606F\"}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u6536\\u85CF\\u4E66\\u7C4D\",children:/*#__PURE__*/_jsx(IconButton,{type:\"button\",onClick:handleMark,children:/*#__PURE__*/_jsx(StarIcon,{variant:\"contained\",style:{color:mark?\"#ffcc00\":\"#353838\"}})})})]})]})})}),/*#__PURE__*/_jsx(CardMedia,{component:\"img\",sx:{maxWidth:'100',// maxHeight: '50%',\n// width: '100%',\n// height: '100%',\nobjectFit:'contain'// or 'scale-down', 'fill', 'cover'\n},image:cover,title:\"cover\"}),/*#__PURE__*/_jsx(Box,{align:\"center\",justifyContent:\"center\",alignItems:\"flex-end\",sx:{display:'flex',flexDirection:'column'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:buy_dang,component:Link,children:\"\\u5F53\\u5F53\\u7F51\\u8D2D\\u4E70\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:buy_bookchina,component:Link,children:\"\\u4E2D\\u56FD\\u56FE\\u4E66\\u7F51\\u8D2D\\u4E70\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:buy_kong,component:Link,children:\"\\u5B54\\u592B\\u5B50\\u65E7\\u4E66\\u7F51\\u8D2D\\u4E70\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:buy_jie,component:Link,children:\"\\u65E7\\u4E66\\u8857\\u8D2D\\u4E70\"})})]})})]}),/*#__PURE__*/_jsx(CommentComponet,{isbn:isbn})]});};export default Book;","map":{"version":3,"names":["React","Component","useState","useEffect","Button","Grid","Card","Box","CardContent","CardMedia","Alert","StarIcon","IconButton","Tooltip","useParams","useNavigate","BrowserRouter","Router","Routes","Route","Link","Redirect","CommentComponet","ScoreComponent","getCookie","getCsrfToken","jsx","_jsx","jsxs","_jsxs","Book","_ref","relation","isbn","title","setTitle","author","setAuthor","cover","setCover","douban_url","setDouban","publisher","setPublisher","pubdate","setPubdate","buy_kong","setKong","buy_dang","setDang","buy_bookchina","setBookchina","buy_jie","setJie","mark","setMark","markid","setMarkId","userid","setUserId","navigate","csrftoken","console","log","getBookDetails","res","fetch","ok","data","json","handleRequest","url","method","body","requestOption","headers","JSON","stringify","response","concat","handleMark","setError","setSuccess","useris","bookisbn","setRelationError","msg","error","children","container","spacing","sx","display","alignItems","flexDirection","item","xs","align","variant","to","component","jutifyContent","maxWidth","maxHeight","flex","type","onClick","style","color","objectFit","image","justifyContent"],"sources":["D:/projects/SE-project/textbook_genius/frontend/reactapp/src/components/Book.js"],"sourcesContent":["import React, { Component, useState,useEffect } from \"react\";\nimport {Button,Grid,Card,Box, CardContent,CardMedia} from '@mui/material';\nimport Alert from '@mui/material/Alert';\nimport StarIcon from '@mui/icons-material/Star';\nimport IconButton from '@mui/material/IconButton';\nimport Tooltip from '@mui/material/Tooltip';\nimport { useParams, useNavigate } from 'react-router-dom';\n// import CreateBookPage from \"./CreateBookPage\";\nimport {\n    BrowserRouter as Router,\n    Routes,\n    Route,\n    Link,\n    Redirect\n} from \"react-router-dom\";\nimport CommentComponet from \"./CommentComponent\";\nimport ScoreComponent from \"./ScoreComponet\";\nimport { getCookie } from './CSRFToken';\nimport { getCsrfToken } from './CSRFToken';\n\nconst Book=({relation})=>{\n    const { isbn } = useParams();\n    const [title,setTitle]=useState(\"\");\n    const[author,setAuthor]=useState(\"\");\n    const[cover,setCover]=useState(\"\");\n    const[douban_url,setDouban]=useState(\"\")\n    const[publisher,setPublisher]=useState(\"\")\n    const[pubdate,setPubdate]=useState(\"\")\n\n    const[buy_kong,setKong]=useState(\"\")\n    const[buy_dang,setDang]=useState(\"\")\n    const[buy_bookchina,setBookchina]=useState(\"\")\n    const[buy_jie,setJie]=useState(\"\")\n\n    const[mark,setMark]=useState(false) //mark action\n    const[markid,setMarkId]=useState('')\n    const[userid,setUserId]=useState('')\n\n    const navigate=useNavigate();\n    const csrftoken=getCsrfToken();\n\n    useEffect(() => {\n        console.log(isbn);\n        getBookDetails();\n    }, []);\n\n    async function getBookDetails(){\n        let res=await fetch(\"/api/get-book\"+\"?isbn=\"+isbn)\n        if(!res.ok){\n            navigate(\"/\");\n            return;\n        }\n        let data=await res.json()\n        setTitle(data.title);\n        setAuthor(data.author);\n        setCover(data.cover);\n        setDouban(data.douban_url);\n        setPubdate(data.pubdate);\n        setPublisher(data.publisher);\n\n        setKong(\"https://search.kongfz.com/product/?keyword=\"+isbn+\"&dataType=0\")\n        setDang(\"http://search.dangdang.com/?key=\"+isbn+\"&act=input\")\n        setBookchina(\"https://www.bookschina.com/book_find2/?stp=\"+isbn+\"&sCate=0\")\n        setJie(\"https://www.jiushujie.com/sell?q=\"+isbn)\n        \n        // .then((response)=>{\n        //     return response.json();\n        // })\n        // .then((data)=>{\n        //     setTitle(data.title)\n        // })\n    }\n\n    /*useEffect(()=>{\n        console.log(relation);\n       \n    },[relation])*/\n\n    const handleRequest = async (url, method, body) => {\n        let requestOption = {\n            method: method,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-CSRFToken\": csrftoken\n            },\n            body: JSON.stringify(body)\n        };\n        let response = await fetch(url, requestOption);\n        if (!response.ok) {\n            console.log(`${method} request failed`);\n            return false;\n        }\n        return true;\n    };\n\n    async function handleMark(){\n        console.log(\"mark\"+isbn);\n        /*const body = { \n            usebook: relation?.id\n        };*/\n        setError('');\n        setSuccess('');\n        if (mark) {\n            // 取消收藏\n           // const success = await handleRequest(\"/api/scoreUser\", \"DELETE\", body);\n            setMark(false);\n        } else {\n            // 进行收藏\n            if(getCookie('username')==null){\n                setError('Please Login First');\n                return;\n            }\n            setMark(true);\n            setUserId(getCookie('user_id'))\n            try{\n                const requestOption={\n                    method:\"POST\",\n                    headers:{\n                        \"Content-Type\": \"application/json\",\n                        \"X-CSRFToken\": csrftoken\n                    },\n                    body:JSON.stringify({\n                        mark:{\n                            markid:markid,\n                            useris:userid,\n                            bookisbn:isbn\n                        }\n                    })\n                };\n                let response=await fetch(\"/api/mark-book\",requestOption)\n                let data=await response.json();\n                if(!response.ok){\n                    setRelationError(data.msg);\n                    return;\n                }\n            }catch(error){\n                setError('An error occurred. Please try again.');\n            }\n            \n        }\n    }\n\n    return(\n        <div>\n            <Grid container spacing={2} sx={{display:'flex',alignItems:'center', flexDirection:'row'}}>\n                <Grid item xs={12} align=\"center\">\n                    <Button variant=\"contained\" to=\"/\" component={Link}>返回主页</Button>\n                </Grid>\n                <Grid item xs={12} align=\"center\">\n                    <h2>This is Book {title}</h2>\n                </Grid>\n            </Grid>\n            \n            {/*<h2>This is Book {title}</h2>*/}\n            <Card variant=\"outlined\"  align=\"center\" jutifyContent=\"center\" sx={{display:\"flex\",maxWidth: 1400,maxHeight: 400}}>\n                <Box sx={{ display: 'flex', flexDirection: 'column' }}>\n                    <CardContent sx={{ flex: '1 0 auto' }}>\n                    {/* <Grid container spacing={3} align=\"center\" justifyContent={\"center\"}> */}\n                        <Grid container spacing={1} item xs={12} >\n                            <Grid item xs={12}>\n                                <Box sx={{ display: 'flex', alignItems: 'center',flexDirection:'row' }}>\n                                    <p >标题:</p>\n                                    <p >{title}</p>\n                                </Box>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <Box sx={{ display: 'flex', alignItems: 'center',flexDirection:'row' }}>\n                                    <p>作者:</p>\n                                    <p>{author}</p>\n                                </Box>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <Box sx={{ display: 'flex', alignItems: 'center',flexDirection:'row' }}>\n                                    <p>出版社:</p>\n                                    <p>{publisher}</p>\n                                </Box>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <Box sx={{ display: 'flex', alignItems: 'center',flexDirection:'row' }}>\n                                    <p>出版日期:</p>\n                                    <p>{pubdate}</p>\n                                </Box>\n                            </Grid>\n                            <Grid item spacing={2} xs={12} align=\"center\">\n                                <Button variant='contained' to=\"./update\" component={Link}>修改书籍信息</Button>\n                                <Tooltip title=\"收藏书籍\">\n                                    <IconButton type=\"button\" onClick={handleMark}>\n                                        <StarIcon variant=\"contained\" style={{ color: mark ? \"#ffcc00\" : \"#353838\" }}/>\n                                    </IconButton>\n                                </Tooltip>\n                            </Grid>\n                        {/* </Grid> */}\n\n                        {/* <Grid item xs={6}>\n                            <Box height={200} width={200} sx={{ p: 2, border: '1px dashed grey' }}>\n                                <img src={cover}/>\n                            </Box>\n                        </Grid> */}\n                    </Grid>\n                    </CardContent>\n                </Box>\n                <CardMedia\n                    component=\"img\"\n                    sx={{ \n                        maxWidth: '100',\n                        // maxHeight: '50%',\n                        // width: '100%',\n                        // height: '100%',\n                        objectFit: 'contain' // or 'scale-down', 'fill', 'cover'\n                      }}\n                    image={cover}\n                    title=\"cover\"\n                />\n                <Box align=\"center\" justifyContent=\"center\" alignItems=\"flex-end\" sx={{ display: 'flex', flexDirection: 'column' }}>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} align=\"center\">\n                            <Button variant=\"contained\" to={buy_dang} component={Link}>当当网购买</Button>\n                        </Grid>\n                        <Grid item xs={12} align=\"center\">\n                            <Button variant=\"contained\" to={buy_bookchina} component={Link}>中国图书网购买</Button>\n                        </Grid>\n                        <Grid item xs={12} align=\"center\">\n                            <Button variant=\"contained\" to={buy_kong} component={Link}>孔夫子旧书网购买</Button>\n                        </Grid>\n                        <Grid item xs={12} align=\"center\">\n                            <Button variant=\"contained\" to={buy_jie} component={Link}>旧书街购买</Button>\n                        </Grid>\n                    </Grid>\n                </Box>\n            </Card>\n            \n            {/* <Card> */}\n            <CommentComponet isbn={isbn}/>\n\n            {/* </Card> */}\n            \n            \n        </div>\n    );\n\n}\nexport default Book;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}