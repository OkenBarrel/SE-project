{"ast":null,"code":"import{Button,DialogContent,Grid,Typography,TextField}from'@mui/material';import React,{Component,useState}from\"react\";import CreateBookPage from'./CreateBookPage';import Book from\"./Book\";import UpdateBookPage from'./UpdateBookPage';import LoginPage from'./LoginPage';import RegisterPage from\"./RegisterPage\";import SearchPage from'./SearchPage';import SearchResults from'./SearchResults';import HelloComponent from'./HelloComponent';import{getCookie}from'./CSRFToken';import{BrowserRouter as Router,Routes,Route,Link,Redirect}from\"react-router-dom\";import UserPage from\"./UserPage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";async function handleLogout(){let response=await fetch(\"api/loggout\");if(!response.ok){console.log(\"log out failed\");return;}console.log(\"log out success\");}function HomePage(props){function renderHomePage(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(HelloComponent,{})})}),/*#__PURE__*/_jsx(\"h2\",{children:\"This is HomePage\"}),/*#__PURE__*/_jsx(\"h2\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:\"/create\",component:Link,children:\"\\u521B\\u5EFA\\u4E66\\u7C4D\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:\"/register\",component:Link,children:\"\\u6CE8\\u518C\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:\"/login\",component:Link,children:\"\\u767B\\u5F55\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:\"/user/:\".concat(getCookie('user_id')),component:Link,children:\"\\u7528\\u6237\\u4FE1\\u606F\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",to:\"/search\",component:Link,children:\"\\u641C\\u7D22\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleLogout,children:\"\\u9000\\u51FA\\u767B\\u5F55\"})]});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:renderHomePage()}),/*#__PURE__*/_jsx(Route,{path:\"/create\",element:/*#__PURE__*/_jsx(CreateBookPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/book/:isbn\",element:/*#__PURE__*/_jsx(Book,{})}),/*#__PURE__*/_jsx(Route,{path:\"/book/:isbn/update\",element:/*#__PURE__*/_jsx(UpdateBookPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/:userId\",element:/*#__PURE__*/_jsx(UserPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search\",element:/*#__PURE__*/_jsx(SearchPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search/results\",element:/*#__PURE__*/_jsx(SearchResults,{})})]})});}export default HomePage;","map":{"version":3,"names":["Button","DialogContent","Grid","Typography","TextField","React","Component","useState","CreateBookPage","Book","UpdateBookPage","LoginPage","RegisterPage","SearchPage","SearchResults","HelloComponent","getCookie","BrowserRouter","Router","Routes","Route","Link","Redirect","UserPage","jsx","_jsx","jsxs","_jsxs","handleLogout","response","fetch","ok","console","log","HomePage","props","renderHomePage","children","item","xs","justifyContent","variant","to","component","concat","onClick","path","element"],"sources":["D:/projects/SE-project/textbook_genius/frontend/reactapp/src/components/HomePage.js"],"sourcesContent":["import {Button,DialogContent,Grid,Typography,TextField} from '@mui/material';\nimport React,{Component, useState} from \"react\";\nimport CreateBookPage from './CreateBookPage';\nimport Book from \"./Book\";\nimport UpdateBookPage from './UpdateBookPage';\nimport LoginPage from './LoginPage';\nimport RegisterPage from \"./RegisterPage\";\nimport SearchPage from './SearchPage';\nimport SearchResults from './SearchResults';\nimport HelloComponent from './HelloComponent';\nimport { getCookie } from './CSRFToken';\nimport {\n    BrowserRouter as Router,\n    Routes,\n    Route,\n    Link,\n    Redirect,\n} from \"react-router-dom\";\nimport UserPage from \"./UserPage\";\n\nasync function handleLogout(){\n\n  let response=await fetch(\"api/loggout\");\n  if(!response.ok){\n    console.log(\"log out failed\");\n    return;\n  }\n  console.log(\"log out success\");\n\n}\n\nfunction HomePage(props) {\n  \n    function renderHomePage() {\n      return (\n        <div>\n          <Grid>\n            <Grid item xs={12} justifyContent=\"flex-end\">\n              <HelloComponent/>\n            </Grid>\n          </Grid>\n          <h2>This is HomePage</h2>\n          <h2></h2>\n          <Button variant='contained' to=\"/create\" component={Link}>创建书籍</Button>\n          {/*<Button variant='contained' to=\"/update\" component={Link}>修改书籍信息</Button>*/}\n          <Button variant='contained' to=\"/register\" component={Link}>注册</Button>\n          <Button variant='contained' to=\"/login\" component={Link}>登录</Button>\n          <Button variant='contained' to={`/user/:${getCookie('user_id')}`} component={Link}>用户信息</Button>\n          <Button variant='contained' to=\"/search\" component={Link}>搜索</Button>\n          <Button variant='contained' onClick={handleLogout}>退出登录</Button>\n        </div>\n      );\n    }\n  \n    return (\n      <Router>\n        <Routes>\n          <Route path=\"/\" element={renderHomePage()} />\n          <Route path=\"/create\" element={<CreateBookPage/>} />\n          <Route path=\"/book/:isbn\" element={<Book/>} />\n          <Route path=\"/book/:isbn/update\" element={<UpdateBookPage/>} />\n          <Route path=\"/register\" element={<RegisterPage/>} />\n          <Route path=\"/login\" element={<LoginPage/>}/>\n          <Route path=\"/user/:userId\" element={<UserPage/>}/>\n          <Route path=\"/search\" element={<SearchPage/>}/>\n          <Route path=\"/search/results\" element={<SearchResults/>}/>\n        </Routes>\n      </Router>\n\n    );\n  }\n  \n  export default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}