{"ast":null,"code":"import React,{Component,useState,useEffect}from\"react\";import Box from'@mui/material/Box';import Tabs from'@mui/material/Tabs';import Tab from'@mui/material/Tab';import Card from'@mui/material/Card';import{useParams,useNavigate}from'react-router-dom';import ScoreComponent from\"./ScoreComponet\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommentComponet=_ref=>{let{isbn}=_ref;const[value,setValue]=useState(0);const[relations,setRelations]=useState([]);const[passon,setPasson]=useState();const handleChange=(event,newValue)=>{setValue(newValue);setPasson(relations[newValue]);// console.log(relations[value][\"course\"]+\"-\"+relations[value][\"teacher\"]);\n};useEffect(()=>{getRelations();setPasson(relations[0]);},[]);async function getRelations(){let response=await fetch(\"/api/get-useBook\"+\"?isbn=\"+isbn);if(!response.ok){console.log(\"get relations wrong!!\");return;}let data=await response.json();setRelations(data);}return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'row'},children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Tabs,{value:value,onChange:handleChange,variant:\"scrollable\",scrollButtons:\"auto\",children:relations.map(relation=>/*#__PURE__*/_jsx(Tab,{label:relation.course+\"-\"+relation.teacher}))})}),console.log(relations[value]),/*#__PURE__*/_jsx(ScoreComponent,{relation:relations[value]})]});};export default CommentComponet;","map":{"version":3,"names":["React","Component","useState","useEffect","Box","Tabs","Tab","Card","useParams","useNavigate","ScoreComponent","jsx","_jsx","jsxs","_jsxs","CommentComponet","_ref","isbn","value","setValue","relations","setRelations","passon","setPasson","handleChange","event","newValue","getRelations","response","fetch","ok","console","log","data","json","sx","display","flexDirection","children","onChange","variant","scrollButtons","map","relation","label","course","teacher"],"sources":["D:/projects/SE-project/textbook_genius/frontend/reactapp/src/components/CommentComponent.js"],"sourcesContent":["import React, { Component, useState,useEffect } from \"react\";\r\nimport Box from '@mui/material/Box';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Card from '@mui/material/Card'\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ScoreComponent from \"./ScoreComponet\";\r\n\r\nconst CommentComponet=({isbn})=>{\r\n    const [value,setValue]=useState(0);\r\n    const [relations,setRelations]=useState([]);\r\n    const[passon,setPasson]=useState();\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n        setPasson(relations[newValue])\r\n        // console.log(relations[value][\"course\"]+\"-\"+relations[value][\"teacher\"]);\r\n    };\r\n    useEffect(()=>{\r\n        getRelations();\r\n        setPasson(relations[0])\r\n    },[]);\r\n\r\n    async function getRelations(){\r\n        let response=await fetch(\"/api/get-useBook\"+\"?isbn=\"+isbn);\r\n        if(!response.ok){\r\n            console.log(\"get relations wrong!!\");\r\n            return;\r\n        }\r\n        let data=await response.json();\r\n        setRelations(data);\r\n    }\r\n    return(\r\n        <Box sx={{display:'flex',flexDirection:'row'}}>\r\n            <Card>\r\n                <Tabs \r\n                    value={value} onChange={handleChange}\r\n                    variant=\"scrollable\" scrollButtons=\"auto\"\r\n                >\r\n                    {relations.map((relation)=>(\r\n                        <Tab label={relation.course+\"-\"+relation.teacher}></Tab>\r\n                    ))}   \r\n                \r\n                </Tabs>\r\n            </Card>\r\n\r\n            {console.log(relations[value])}\r\n            <ScoreComponent relation={relations[value]}></ScoreComponent>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default CommentComponet;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAACC,SAAS,KAAQ,OAAO,CAC5D,MAAO,CAAAC,GAAG,KAAM,mBAAmB,CACnC,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,GAAG,KAAM,mBAAmB,CACnC,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,cAAc,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,eAAe,CAACC,IAAA,EAAU,IAAT,CAACC,IAAI,CAAC,CAAAD,IAAA,CACzB,KAAM,CAACE,KAAK,CAACC,QAAQ,CAAC,CAACjB,QAAQ,CAAC,CAAC,CAAC,CAClC,KAAM,CAACkB,SAAS,CAACC,YAAY,CAAC,CAACnB,QAAQ,CAAC,EAAE,CAAC,CAC3C,KAAK,CAACoB,MAAM,CAACC,SAAS,CAAC,CAACrB,QAAQ,CAAC,CAAC,CAElC,KAAM,CAAAsB,YAAY,CAAGA,CAACC,KAAK,CAAEC,QAAQ,GAAK,CACtCP,QAAQ,CAACO,QAAQ,CAAC,CAClBH,SAAS,CAACH,SAAS,CAACM,QAAQ,CAAC,CAAC,CAC9B;AACJ,CAAC,CACDvB,SAAS,CAAC,IAAI,CACVwB,YAAY,CAAC,CAAC,CACdJ,SAAS,CAACH,SAAS,CAAC,CAAC,CAAC,CAAC,CAC3B,CAAC,CAAC,EAAE,CAAC,CAEL,cAAe,CAAAO,YAAYA,CAAA,CAAE,CACzB,GAAI,CAAAC,QAAQ,CAAC,KAAM,CAAAC,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAACZ,IAAI,CAAC,CAC1D,GAAG,CAACW,QAAQ,CAACE,EAAE,CAAC,CACZC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,CACpC,OACJ,CACA,GAAI,CAAAC,IAAI,CAAC,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAC9Bb,YAAY,CAACY,IAAI,CAAC,CACtB,CACA,mBACInB,KAAA,CAACV,GAAG,EAAC+B,EAAE,CAAE,CAACC,OAAO,CAAC,MAAM,CAACC,aAAa,CAAC,KAAK,CAAE,CAAAC,QAAA,eAC1C1B,IAAA,CAACL,IAAI,EAAA+B,QAAA,cACD1B,IAAA,CAACP,IAAI,EACDa,KAAK,CAAEA,KAAM,CAACqB,QAAQ,CAAEf,YAAa,CACrCgB,OAAO,CAAC,YAAY,CAACC,aAAa,CAAC,MAAM,CAAAH,QAAA,CAExClB,SAAS,CAACsB,GAAG,CAAEC,QAAQ,eACpB/B,IAAA,CAACN,GAAG,EAACsC,KAAK,CAAED,QAAQ,CAACE,MAAM,CAAC,GAAG,CAACF,QAAQ,CAACG,OAAQ,CAAM,CAC1D,CAAC,CAEA,CAAC,CACL,CAAC,CAENf,OAAO,CAACC,GAAG,CAACZ,SAAS,CAACF,KAAK,CAAC,CAAC,cAC9BN,IAAA,CAACF,cAAc,EAACiC,QAAQ,CAAEvB,SAAS,CAACF,KAAK,CAAE,CAAiB,CAAC,EAC5D,CAAC,CAEd,CAAC,CAED,cAAe,CAAAH,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}